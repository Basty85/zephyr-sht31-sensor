# ==============================================================================
# ZEPHYR SHT31 SENSOR UDP APPLICATION CONFIGURATION
# ==============================================================================
# This configuration file enables all necessary Zephyr features for:
# - SHT31 temperature/humidity sensor via I2C
# - UDP data transmission over Ethernet
# - Remote Telnet console access
# - Network diagnostics and monitoring
# ==============================================================================

# ==============================================================================
# CORE SYSTEM CONFIGURATION
# ==============================================================================

# Console and logging support
CONFIG_STDOUT_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_MODE_IMMEDIATE=y

# Sensor and hardware support
CONFIG_SENSOR=y
CONFIG_I2C=y

# C++ and floating point support
CONFIG_CPP=y
CONFIG_CBPRINTF_FP_SUPPORT=y
CONFIG_STATIC_INIT_GNU=y

# ==============================================================================
# NETWORKING CONFIGURATION
# ==============================================================================

# Core networking stack
CONFIG_NETWORKING=y
CONFIG_NET_SOCKETS=y
CONFIG_POSIX_API=y

# Network protocols
CONFIG_NET_UDP=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y

# Static IP configuration for Nucleo board
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_MY_IPV4_ADDR="192.168.1.38"
CONFIG_NET_CONFIG_MY_IPV4_NETMASK="255.255.255.0"
CONFIG_NET_CONFIG_MY_IPV4_GW="192.168.1.1"

# Ethernet hardware support
CONFIG_NET_L2_ETHERNET=y

# Network buffer configuration
CONFIG_NET_PKT_RX_COUNT=10
CONFIG_NET_PKT_TX_COUNT=10
CONFIG_NET_BUF_RX_COUNT=20
CONFIG_NET_BUF_TX_COUNT=20

# Network debugging and monitoring
CONFIG_NET_LOG=y
CONFIG_NET_TCP_LOG_LEVEL_DBG=y

# ==============================================================================
# NETWORK STATISTICS AND MONITORING
# ==============================================================================

CONFIG_NET_STATISTICS=y
CONFIG_NET_STATISTICS_ETHERNET=y
CONFIG_NET_STATISTICS_IPV4=y
CONFIG_NET_STATISTICS_UDP=y

# ==============================================================================
# MEMORY AND STACK CONFIGURATION
# ==============================================================================

# Heap memory for dynamic allocation
CONFIG_HEAP_MEM_POOL_SIZE=8192

# Thread stack sizes optimized for networking and sensors
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048

# ==============================================================================
# SHELL AND CONSOLE CONFIGURATION
# ==============================================================================

# Shell subsystem
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_BACKEND_TELNET=y
CONFIG_NET_SHELL=y

# Logging backends - separate logs from shell
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_BACKEND_NET=n
CONFIG_SHELL_LOG_BACKEND=n

# ==============================================================================
# SHELL CUSTOMIZATION
# ==============================================================================

# Custom shell prompts for different interfaces
CONFIG_SHELL_PROMPT_UART="nucleo-usb:~$ "
CONFIG_SHELL_PROMPT_TELNET="nucleo-eth:~$ "

# Shell appearance and features
CONFIG_SHELL_VT100_COLORS=y

# ==============================================================================
# TARGET CONFIGURATION SUMMARY
# ==============================================================================
# Board: STM32 Nucleo H755ZI-Q
# IP:    192.168.1.38 (static)
# UDP:   Sends sensor data to 192.168.1.37:8888
# Shell: Available via USB and Telnet (port 23)
# ==============================================================================